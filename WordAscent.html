<!DOCTYPE html>
<html>
<head>
  <title>Word Ascent - ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Å‡∏±‡∏ö‡∏Ñ‡∏£‡∏π‡∏£‡∏∏‡∏ï‡∏ï‡πå</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 30px; }
    button { font-size: 22px; padding: 10px 20px; margin: 10px; cursor: pointer; }
    input[type="text"] { font-size: 22px; padding: 6px; width: 200px; margin-top: 10px; }
    #feedback, #scoreDisplay, #timerDisplay { font-size: 20px; font-weight: bold; margin-top: 10px; }
    #gameSection { margin-top: 30px; display: none; }
    .correct { color: green; }
    .incorrect { color: red; }
    /* Style for player name input */
    #playerNameInput { margin-bottom: 20px; }
    #playerNameInput input { margin-left: 10px; }
    
    /* Styles for the results table */
    #resultsSection { margin-top: 40px; display: none; } /* Initially hidden */
    #resultsTableContainer { 
        width: 95%; /* Adjust width as needed */
        max-width: 1200px; /* Max width for large screens */
        margin: 20px auto; 
        overflow-x: auto; /* Enable horizontal scrolling for narrow screens */
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 10px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    #resultsTable {
        width: 100%;
        border-collapse: collapse;
        font-size: 14px; /* Smaller font for table to fit more columns */
        min-width: 900px; /* Ensure table doesn't shrink too much */
    }
    #resultsTable th, #resultsTable td {
        border: 1px solid #ddd;
        padding: 8px 4px; /* Adjust padding to make columns narrower */
        text-align: center;
        white-space: nowrap; /* Prevent text wrapping in headers */
    }
    #resultsTable th {
        background-color: #f2f2f2;
        font-weight: bold;
        padding: 8px 2px;
        vertical-align: bottom; /* Align text at the bottom for rotated text */
        height: 100px; /* Increased height for vertical text */
    }
    #resultsTable thead th:first-child {
        height: auto; /* Reset height for the "‡∏ä‡∏∑‡πà‡∏≠" column */
        vertical-align: middle;
    }
    #resultsTable tbody tr:nth-child(even) {
        background-color: #f9f9f9;
    }
    #resultsTable tbody td {
        font-weight: normal;
    }
    #resultsTable .correct-mark { color: green; font-weight: bold; }
    #resultsTable .incorrect-mark { color: red; font-weight: bold; }

    /* For vertical text in table headers */
    .vertical-text {
        writing-mode: vertical-rl;
        text-orientation: mixed;
        transform: rotate(180deg); /* Rotate 180 degrees to read bottom-up */
        white-space: nowrap;
        text-align: left;
        padding: 0 5px;
    }

    /* Style for result classification */
    .excellent { color: #2196f3; font-weight: bold; } /* ‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° */
    .good { color: #4caf50; font-weight: bold; }     /* ‡∏î‡∏µ */
    .medium { color: #ffeb3b; font-weight: bold; }   /* ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á */
    .fair { color: #ff9800; font-weight: bold; }     /* ‡∏û‡∏≠‡πÉ‡∏ä‡πâ */
    .poor { color: #f44336; font-weight: bold; }     /* ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á */
  </style>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
</head>
<body>
<h1><img src="https://i.postimg.cc/jqk7vdTN/logo.png" border="0" width="200" height="200"></h1>
<h1>üéØ Word Ascent</h1>
<p><font face="TH SarabunIT?">‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏™‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏°‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÅ‡∏ö‡∏ö Active Learning ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6 <br>
‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© ‡∏ö‡∏ô‡∏£‡∏∞‡∏ö‡∏ö OBEC Content Center ‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° Word Ascent</font></p><br>

<div id="playerNameInput">
    <input type="text" id="playerName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô" autocomplete="off" />
</div>
<p><button id="startBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</button></p>

<div id="gameSection">
  <p><strong>‡∏î‡∏π‡∏Ñ‡∏≥‡∏≠‡πà‡∏≤‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ ‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</strong></p>
  <div id="timerDisplay">‡πÄ‡∏ß‡∏•‡∏≤: 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
  <div id="scoreDisplay">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</div>
  <div id="progressBar" style="width: 80%; margin: 20px auto; height: 30px; background-color: #ddd; border-radius: 10px; overflow: hidden; position: relative;">
    <div id="progress" style="height: 100%; width: 0%; background-color: #f44336;"></div>
    <div id="progressLabel" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; line-height: 30px; text-align: center; font-weight: bold; color: black;">‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á</div>
  </div>
  <div id="wordInfo"></div>
  <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ã‡πâ‡∏≥ -->
  <button id="speakWordBtn">üîä ‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
  <br>
  <input type="text" id="gameInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå" autocomplete="off" />
  <br>
  <button id="submitBtn">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
  <div id="feedback"></div>
  <p><button id="restartBtn">üîÑ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button></p>
</div>

<!-- Results Section -->
<div id="resultsSection">
    <h2>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h2>
    <div id="resultsTableContainer">
        <table id="resultsTable">
            <thead>
                <tr>
                    <th rowspan="2">‡∏ä‡∏∑‡πà‡∏≠</th>
                    <!-- Dynamically generate word headers -->
                    <th colspan="30" style="text-align: center;">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö</th> <!-- Adjust colspan based on words.length -->
                    <th rowspan="2">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th>
                    <th rowspan="2">‡∏£‡∏∞‡∏î‡∏±‡∏ö</th>
                </tr>
                <tr>
                    <!-- Individual word headers will be inserted here by JS -->
                </tr>
            </thead>
            <tbody>
                <!-- Results will be inserted here by JS -->
            </tbody>
        </table>
    </div>
</div>

<p><font face="TH SarabunIT?">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ ‡∏Ñ‡∏£‡∏π‡∏ô‡∏¥‡∏£‡∏∏‡∏ï‡∏ï‡πå ‡∏û‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô</font></p>
<p><img src="https://i.postimg.cc/bNtR4Fqm/gdkeepodld.jpg" border="0" width="58" height="58"><br>
<font face="TH SarabunIT?">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÇ‡∏û‡∏ò‡∏¥‡πå‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡πå<br>
‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏Ç‡∏ï‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£ ‡πÄ‡∏Ç‡∏ï 1</font></p>

<script>
const words = [
  { "word": "achievement", "pronunciation": "‡∏≠‡∏∞-‡∏ä‡∏µ‡∏ü-‡πÄ‡∏°‡∏¥‡∏ô‡∏ó‡∏∫", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à" },
  { "word": "bravery", "pronunciation": "‡πÄ‡∏ö‡∏£‡∏ü-‡πÄ‡∏ß‡∏≠-‡∏£‡∏µ‡πà", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤‡∏´‡∏≤‡∏ç" },
  { "word": "culture", "pronunciation": "‡∏Ñ‡∏±‡∏•-‡πÄ‡∏ä‡∏≠‡∏£‡πå", "meaning": "‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°" },
  { "word": "democracy", "pronunciation": "‡∏î‡∏µ-‡∏°‡πá‡∏≠‡∏Ñ-‡∏Ñ‡∏£‡∏∞-‡∏ã‡∏µ‡πà", "meaning": "‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡πÑ‡∏ï‡∏¢" },
  { "word": "education", "pronunciation": "‡πÄ‡∏≠‡∏î-‡∏î‡∏π-‡πÄ‡∏Ñ-‡∏ä‡∏±‡πà‡∏ô", "meaning": "‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤" },
  { "word": "freedom", "pronunciation": "‡∏ü‡∏£‡∏µ-‡∏î‡∏≠‡∏°", "meaning": "‡πÄ‡∏™‡∏£‡∏µ‡∏†‡∏≤‡∏û" },
  { "word": "goal", "pronunciation": "‡πÇ‡∏Å‡∏•", "meaning": "‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢" },
  { "word": "honest", "pronunciation": "‡∏≠‡∏≠‡∏ô-‡πÄ‡∏ô‡∏™‡∏ó‡∏∫", "meaning": "‡∏ã‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏¢‡πå" },
  { "word": "imagination", "pronunciation": "‡∏≠‡∏¥-‡πÅ‡∏°-‡∏à‡∏¥-‡πÄ‡∏ô-‡∏ä‡∏±‡πà‡∏ô", "meaning": "‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£" },
  { "word": "justice", "pronunciation": "‡∏à‡∏±‡∏™-‡∏ó‡∏¥‡∏™", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°" },
  { "word": "nation", "pronunciation": "‡πÄ‡∏ô-‡∏ä‡∏±‡πà‡∏ô", "meaning": "‡∏ä‡∏≤‡∏ï‡∏¥" },
  { "word": "responsibility", "pronunciation": "‡∏£‡∏µ-‡∏™‡∏õ‡∏≠‡∏ô-‡∏ã‡∏¥-‡∏ö‡∏¥-‡∏•‡∏¥-‡∏ó‡∏µ‡πà", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö" },
  { "word": "liberty", "pronunciation": "‡∏•‡∏¥-‡πÄ‡∏ö‡∏≠-‡∏ó‡∏µ‡πà", "meaning": "‡∏≠‡∏¥‡∏™‡∏£‡∏†‡∏≤‡∏û" },
  { "word": "honor", "pronunciation": "‡∏≠‡∏≠‡∏ô-‡πÄ‡∏ô‡∏≠‡∏£‡πå", "meaning": "‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏¢‡∏®" },
  { "word": "volunteer", "pronunciation": "‡∏ß‡∏≠‡∏•-‡∏•‡∏±‡∏ô-‡πÄ‡∏ó‡∏µ‡∏¢‡∏£‡πå", "meaning": "‡∏≠‡∏≤‡∏™‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£" },
  { "word": "peace", "pronunciation": "‡∏û‡∏µ‡∏ã", "meaning": "‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏†‡∏≤‡∏û" },
  { "word": "truth", "pronunciation": "‡∏ó‡∏£‡∏π‡∏ò", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á" },
  { "word": "effort", "pronunciation": "‡πÄ‡∏≠‡∏ü-‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏ó", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°" },
  { "word": "politeness", "pronunciation": "‡∏û‡∏≠-‡πÑ‡∏•‡∏ó‡∏∫-‡πÄ‡∏ô‡∏™", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏†‡∏≤‡∏û" },
  { "word": "unity", "pronunciation": "‡∏¢‡∏π-‡∏ô‡∏¥-‡∏ó‡∏µ‡πà", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏±‡∏Ñ‡∏Ñ‡∏µ" },
  { "word": "equality", "pronunciation": "‡∏≠‡∏µ-‡∏Ñ‡∏ß‡∏≠‡∏•-‡∏•‡∏¥-‡∏ó‡∏µ‡πà", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏°" },
  { "word": "integrity", "pronunciation": "‡∏≠‡∏¥‡∏ô-‡πÄ‡∏ó‡∏Å-‡∏£‡∏¥-‡∏ó‡∏µ‡πà", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏¢‡πå‡∏™‡∏∏‡∏à‡∏£‡∏¥‡∏ï" },
  { "word": "generosity", "pronunciation": "‡πÄ‡∏à‡∏ô-‡πÄ‡∏ô‡∏≠-‡∏£‡∏≠-‡∏ã‡∏¥-‡∏ó‡∏µ‡πà", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏≠‡∏∑‡πâ‡∏≠‡πÄ‡∏ü‡∏∑‡πâ‡∏≠‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡πÅ‡∏ú‡πà" },
  { "word": "patience", "pronunciation": "‡πÄ‡∏û-‡πÄ‡∏ä‡∏¥‡∏ô‡∏ã‡∏∫", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏î‡∏ó‡∏ô" },
  { "word": "gratitude", "pronunciation": "‡πÅ‡∏Å‡∏£‡∏ó-‡∏ó‡∏¥-‡∏ó‡∏π‡∏î", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ï‡∏±‡∏ç‡∏ç‡∏π" },
  { "word": "respect", "pronunciation": "‡∏£‡∏µ-‡∏™‡πÄ‡∏õ‡∏Ñ‡∏ó‡∏∫", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û" },
  { "word": "cooperation", "pronunciation": "‡πÇ‡∏Ñ-‡∏≠‡∏≠-‡πÄ‡∏û‡∏≠‡∏∞-‡πÄ‡∏£-‡∏ä‡∏±‡πà‡∏ô", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠" },
  { "word": "discipline", "pronunciation": "‡∏î‡∏¥‡∏™-‡∏ã‡∏¥-‡∏û‡∏•‡∏¥‡∏ô", "meaning": "‡∏ß‡∏¥‡∏ô‡∏±‡∏¢" },
  { "word": "confidence", "pronunciation": "‡∏Ñ‡∏≠‡∏ô-‡∏ü‡∏¥-‡πÄ‡∏î‡∏¥‡∏ô‡∏ã‡∏∫", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à" },
  { "word": "leadership", "pronunciation": "‡∏•‡∏µ‡∏î-‡πÄ‡∏î‡∏≠‡∏£‡πå-‡∏ä‡∏¥‡∏û", "meaning": "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥" }
];


let selectedVoice = null;
let isGameRunning = false;
let currentWord = "";
let currentPronunciation = "";
let currentMeaning = "";
let score = 0;
let timeLeft = 0;
let timer;
let wordsUsed = []; // Stores words shown in the current game
let currentAttemptResults = {}; // Stores correctness for each word in the current game
const allGameResults = []; // Stores results from all games played

// DOM Elements
const startBtn = document.getElementById("startBtn");
const restartBtn = document.getElementById("restartBtn");
const submitBtn = document.getElementById("submitBtn");
const gameInput = document.getElementById("gameInput");
const gameSection = document.getElementById("gameSection");
const feedback = document.getElementById("feedback");
const scoreDisplay = document.getElementById("scoreDisplay");
const timerDisplay = document.getElementById("timerDisplay");
const wordInfo = document.getElementById("wordInfo");
const speakWordBtn = document.getElementById("speakWordBtn");
const playerNameInputDiv = document.getElementById("playerNameInput");
const playerNameField = document.getElementById("playerName");
const resultsSection = document.getElementById("resultsSection");
const resultsTableBody = document.querySelector("#resultsTable tbody");
const resultsTableHeaderRow2 = document.querySelector("#resultsTable thead tr:nth-child(2)");
const resultsTableHeaderColspan = document.querySelector("#resultsTable thead th:nth-child(2)"); // The colspan cell

function loadVoices() {
  const voices = speechSynthesis.getVoices();
  if (!voices.length) {
    setTimeout(loadVoices, 100);
    return;
  }
  selectedVoice = voices.find(v => v.name.includes("Google US English")) || voices.find(v => v.lang.startsWith("en"));
}
speechSynthesis.onvoiceschanged = loadVoices;
loadVoices();

// Pre-load a dummy utterance to activate speech synthesis on some mobile browsers
document.body.addEventListener('touchstart', () => {
  const dummy = new SpeechSynthesisUtterance("Hi");
  dummy.volume = 0;
  speechSynthesis.speak(dummy);
}, { once: true });

function speak(text) {
  speechSynthesis.cancel(); 
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = 'en-US'; 
  if (selectedVoice) utter.voice = selectedVoice; 
  utter.rate = 0.9; 
  speechSynthesis.speak(utter);
}

function startGame() {
  const playerName = playerNameField.value.trim();
  if (playerName === "") {
    // ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà alert() ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ô UI
    feedback.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°!";
    feedback.className = "incorrect"; // ‡πÉ‡∏ä‡πâ class incorrect ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏µ‡πÅ‡∏î‡∏á
    playerNameField.focus();
    return;
  }

  isGameRunning = true;
  playerNameInputDiv.style.display = "none"; // ‡∏ã‡πà‡∏≠‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠
  startBtn.style.display = "none"; // ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°
  gameSection.style.display = "block"; // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Å‡∏°
  resultsSection.style.display = "none"; // ‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°

  feedback.textContent = ""; // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° feedback
  score = 0;
  timeLeft = 0;
  wordsUsed = []; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
  currentAttemptResults = {}; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≥‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

  scoreDisplay.textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0";
  timerDisplay.textContent = "‡πÄ‡∏ß‡∏•‡∏≤: 0 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ";
  gameInput.value = "";
  gameInput.focus();
  nextWord(); // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏£‡∏Å

  timer = setInterval(() => {
    timeLeft++;
    timerDisplay.textContent = "‡πÄ‡∏ß‡∏•‡∏≤: " + timeLeft + " ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ";
    // ‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡∏à‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ô‡∏≠‡∏≤‡∏£‡πå‡πÄ‡∏£‡∏¢‡πå words
    if (wordsUsed.length >= words.length) { 
      clearInterval(timer);
      endGame();
    }
  }, 1000);
}

function nextWord() {
  const progressPercent = Math.min((wordsUsed.length / words.length) * 100, 100); 
  document.getElementById("progress").style.width = progressPercent + "%";
  const progressLabel = document.getElementById("progressLabel");
  const progressBar = document.getElementById("progress");
  
  if (progressPercent <= 20) {
    progressBar.style.backgroundColor = "#f44336";
    progressLabel.textContent = "";
  } else if (progressPercent <= 40) {
    progressBar.style.backgroundColor = "#ff9800";
    progressLabel.textContent = "";
  } else if (progressPercent <= 60) {
    progressBar.style.backgroundColor = "#ffeb3b";
    progressLabel.textContent = "";
  } else if (progressPercent <= 80) {
    progressBar.style.backgroundColor = "#4caf50";
    progressLabel.textContent = "";
  } else {
    progressBar.style.backgroundColor = "#2196f3";
    progressLabel.textContent = "";
  }

  // ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡∏à‡∏ö‡πÄ‡∏Å‡∏°
  if (wordsUsed.length >= words.length) {
    endGame();
    return;
  }

  // ‡∏Å‡∏£‡∏≠‡∏á‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡πÄ‡∏Å‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
  const remaining = words.filter(w => !wordsUsed.includes(w.word));
  
  // ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
  const entry = remaining[Math.floor(Math.random() * remaining.length)];
  currentWord = entry.word;
  currentPronunciation = entry.pronunciation;
  currentMeaning = entry.meaning;
  wordsUsed.push(currentWord); // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏•‡∏á‡πÉ‡∏ô‡∏•‡∏¥‡∏™‡∏ï‡πå‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß

  // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô false (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å) ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô currentAttemptResults
  if (!(currentWord in currentAttemptResults)) {
      currentAttemptResults[currentWord] = false; 
  }

  const letterPronunciationMap = {
    a: "‡πÄ‡∏≠", b: "‡∏ö‡∏µ", c: "‡∏ã‡∏µ", d: "‡∏î‡∏µ", e: "‡∏≠‡∏µ",
    f: "‡πÄ‡∏≠‡∏ü", g: "‡∏à‡∏µ", h: "‡πÄ‡∏Æ‡∏ä", i: "‡πÑ‡∏≠", j: "‡πÄ‡∏à",
    k: "‡πÄ‡∏Ñ", l: "‡πÅ‡∏≠‡∏•", m: "‡πÄ‡∏≠‡πá‡∏°", n: "‡πÄ‡∏≠‡πá‡∏ô", o: "‡πÇ‡∏≠",
    p: "‡∏û‡∏µ", q: "‡∏Ñ‡∏¥‡∏ß", r: "‡∏≠‡∏≤‡∏£‡πå", s: "‡πÄ‡∏≠‡∏™", t: "‡∏ó‡∏µ",
    u: "‡∏¢‡∏π", v: "‡∏ß‡∏µ", w: "‡∏î‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏•‡∏¢‡∏π", x: "‡πÄ‡∏≠‡πá‡∏Å‡∏ã‡πå", y: "‡∏ß‡∏≤‡∏¢", z: "‡πÅ‡∏ã‡∏î"
  };
  const spelledThai = currentWord.toLowerCase().split('').map(ch => letterPronunciationMap[ch] || ch).join('-');
  wordInfo.innerHTML = `
    <p>‡∏™‡∏∞‡∏Å‡∏î‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß (‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏ó‡∏¢): <strong>${spelledThai}</strong></p>
    <p>‡∏Ñ‡∏≥‡∏≠‡πà‡∏≤‡∏ô: <strong>${currentPronunciation}</strong></p>
    <p>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢: <strong>${currentMeaning}</strong></p>
  `;
  
  speak(currentWord); // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå

  gameInput.value = "";
  gameInput.focus();
}

function submitAnswer() {
  if (!isGameRunning) return;
  const input = gameInput.value.trim().toLowerCase();
  
  if (input === currentWord.toLowerCase()) {
    score++;
    feedback.textContent = "‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!";
    feedback.className = "correct";
    currentAttemptResults[currentWord] = true; // ‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å
  } else {
    feedback.textContent = "‚ùå ‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠: " + currentWord;
    feedback.className = "incorrect";
    currentAttemptResults[currentWord] = false; // ‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î
  }
  scoreDisplay.textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: " + score;
  nextWord();
}

function getLevelTextAndClass(finalScore) {
  let resultText = "";
  let resultClass = "";

  if (finalScore >= 27) {
    resultText = "‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°";
    resultClass = "excellent";
  } else if (finalScore >= 23) {
    resultText = "‡∏î‡∏µ";
    resultClass = "good";
  } else if (finalScore >= 19) {
    resultText = "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á";
    resultClass = "medium";
  } else if (finalScore >= 15) {
    resultText = "‡∏û‡∏≠‡πÉ‡∏ä‡πâ";
    resultClass = "fair";
  } else {
    resultText = "‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á";
    resultClass = "poor";
  }
  return { text: resultText, className: resultClass };
}

function endGame() {
  isGameRunning = false;
  clearInterval(timer);
  
  const { text: levelText, className: levelClass } = getLevelTextAndClass(score);

  feedback.innerHTML = `üèÅ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°! ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô <strong>${score}</strong> ‡∏à‡∏≤‡∏Å ${words.length} ‡∏Ñ‡∏≥ ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ <strong>${timeLeft}</strong> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ<br><span class="${levelClass}">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: ${levelText}</span>`;
  feedback.className = ""; 

  // ‡πÄ‡∏Å‡πá‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°
  const playerResult = {
      name: playerNameField.value.trim() === "" ? "‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠" : playerNameField.value.trim(),
      score: score,
      level: levelText,
      wordResults: {} // ‡πÄ‡∏Å‡πá‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ñ‡∏π‡∏Å/‡∏ú‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ
  };

  // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
  words.forEach(wordObj => {
      // ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏±‡πâ‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡∏≠‡∏ö‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ ‡∏°‡∏¥‡∏â‡∏∞‡∏ô‡∏±‡πâ‡∏ô‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å (‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ö)
      playerResult.wordResults[wordObj.word] = currentAttemptResults[wordObj.word] !== undefined ? currentAttemptResults[wordObj.word] : false;
  });

  allGameResults.push(playerResult); // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

  // ‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô UI ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
  gameSection.style.display = "none"; // ‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Å‡∏°
  resultsSection.style.display = "block"; // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•
  playerNameInputDiv.style.display = "block"; // ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
  startBtn.style.display = "block"; // ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

  updateResultsTable(); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•
}

function updateResultsTable() {
    // ‡∏•‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏Å‡πà‡∏≤
    resultsTableBody.innerHTML = '';
    
    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏ö‡∏ö Dynamic (‡∏ó‡∏≥‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á
    if (resultsTableHeaderRow2.children.length === 0 || resultsTableHeaderColspan.getAttribute("colspan") !== words.length.toString()) { 
        // ‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà (‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏î‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)
        resultsTableHeaderRow2.innerHTML = ''; 

        words.forEach(wordObj => {
            const th = document.createElement("th");
            const div = document.createElement("div");
            div.className = "vertical-text";
            div.textContent = wordObj.word;
            th.appendChild(div);
            resultsTableHeaderRow2.appendChild(th);
        });
        // ‡∏õ‡∏£‡∏±‡∏ö colspan ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ "‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö"
        resultsTableHeaderColspan.setAttribute("colspan", words.length);
    }

    // ‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    allGameResults.forEach(result => {
        const row = resultsTableBody.insertRow();
        const nameCell = row.insertCell();
        nameCell.textContent = result.name;

        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ã‡∏•‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å/‡∏ú‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå
        words.forEach(wordObj => {
            const cell = row.insertCell();
            const isCorrect = result.wordResults[wordObj.word];
            if (isCorrect) {
                cell.textContent = "‚úì";
                cell.className = "correct-mark";
            } else {
                cell.textContent = "‚úó";
                cell.className = "incorrect-mark";
            }
        });

        const scoreCell = row.insertCell();
        scoreCell.textContent = result.score;
        
        const levelCell = row.insertCell();
        levelCell.textContent = result.level;
        // ‡πÉ‡∏ä‡πâ class ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
        levelCell.className = getLevelTextAndClass(result.score).className;
    });
}

document.addEventListener("DOMContentLoaded", function() {
  // ‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
  gameSection.style.display = "none";
  resultsSection.style.display = "none";

  startBtn.addEventListener("click", startGame);
  restartBtn.addEventListener("click", startGame); // ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å startGame ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
  submitBtn.addEventListener("click", submitAnswer);
  
  speakWordBtn.addEventListener("click", () => {
    if (isGameRunning && currentWord) {
      speak(currentWord);
    }
  });

  gameInput.addEventListener("keypress", function(e) {
    if (e.key === "Enter") submitAnswer();
  });

  // ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
  playerNameField.focus();
});
</script>

</body>
</html>
